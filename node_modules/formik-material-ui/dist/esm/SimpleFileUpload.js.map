{"version":3,"file":"SimpleFileUpload.js","sources":["../../src/SimpleFileUpload.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FieldProps, getIn } from 'formik';\nimport FormControl, { FormControlProps } from '@mui/material/FormControl';\nimport InputLabel, { InputLabelProps } from '@mui/material/InputLabel';\nimport Input, { InputProps } from '@mui/material/Input';\nimport FormHelperText from '@mui/material/FormHelperText';\n\nexport interface SimpleFileUploadProps extends FieldProps {\n  label: string;\n  accept: string;\n  disabled?: boolean;\n  InputProps?: Omit<InputProps, 'name' | 'type' | 'label'>;\n  InputLabelProps?: InputLabelProps;\n  FormControlProps?: FormControlProps;\n}\n\nexport const SimpleFileUpload = ({\n  field,\n  form: { isSubmitting, touched, errors, setFieldValue },\n  label,\n  accept,\n  disabled = false,\n  InputProps: inputProps,\n  InputLabelProps: inputLabelProps,\n  FormControlProps: formControlProps,\n}: SimpleFileUploadProps) => {\n  const error = getIn(touched, field.name) && getIn(errors, field.name);\n\n  return (\n    <FormControl {...formControlProps}>\n      {label && (\n        <InputLabel shrink error={!!error} {...inputLabelProps}>\n          {label}\n        </InputLabel>\n      )}\n      <Input\n        error={!!error}\n        inputProps={{\n          type: 'file',\n          accept,\n          disabled: disabled || isSubmitting,\n          name: field.name,\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          onChange: (event: React.ChangeEvent<any>) => {\n            if (inputProps?.onChange) {\n              inputProps.onChange(event);\n            } else {\n              const file = event.currentTarget.files[0];\n              setFieldValue(field.name, file);\n            }\n          },\n        }}\n        {...inputProps}\n      />\n      {error && <FormHelperText error>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;IAgBa,gBAAgB,GAAG,UAAC,EAST;QARtB,KAAK,WAAA,EACL,YAAsD,EAA9C,YAAY,kBAAA,EAAE,OAAO,aAAA,EAAE,MAAM,YAAA,EAAE,aAAa,mBAAA,EACpD,KAAK,WAAA,EACL,MAAM,YAAA,EACN,gBAAgB,EAAhB,QAAQ,mBAAG,KAAK,KAAA,EACJ,UAAU,gBAAA,EACL,eAAe,qBAAA,EACd,gBAAgB,sBAAA;IAElC,IAAM,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;IAEtE,QACE,oBAAC,WAAW,eAAK,gBAAgB;QAC9B,KAAK,KACJ,oBAAC,UAAU,aAAC,MAAM,QAAC,KAAK,EAAE,CAAC,CAAC,KAAK,IAAM,eAAe,GACnD,KAAK,CACK,CACd;QACD,oBAAC,KAAK,aACJ,KAAK,EAAE,CAAC,CAAC,KAAK,EACd,UAAU,EAAE;gBACV,IAAI,EAAE,MAAM;gBACZ,MAAM,QAAA;gBACN,QAAQ,EAAE,QAAQ,IAAI,YAAY;gBAClC,IAAI,EAAE,KAAK,CAAC,IAAI;gBAEhB,QAAQ,EAAE,UAAC,KAA6B;oBACtC,IAAI,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,QAAQ,EAAE;wBACxB,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;qBAC5B;yBAAM;wBACL,IAAM,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC1C,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;qBACjC;iBACF;aACF,IACG,UAAU,EACd;QACD,KAAK,IAAI,oBAAC,cAAc,IAAC,KAAK,UAAE,KAAK,CAAkB,CAC5C,EACd;AACJ;;;;"}